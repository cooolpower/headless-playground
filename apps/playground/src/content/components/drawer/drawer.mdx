import {
  DemoDrawerBasic,
  DemoDrawerBasicWithControls,
  DemoDrawerBasicControls,
  DemoDrawerBasicProvider,
  DemoDrawerPlacement,
  DemoDrawerWithFooter,
  DemoDrawerWithExtra,
  DemoDrawerCustomSize,
  DemoDrawerNoMaskClose,
  DemoDrawerNoClosable,
} from './drawer.demo';
import { Playground } from '@/components/playground/playground';
import { CssSnippet } from '@/components/playground/css-snippet';
import { DrawerCss } from '@headless/ui';

# Drawer

Drawer는 화면의 측면에서 슬라이드하여 나타나는 패널 컴포넌트입니다. 모달과 유사하지만, 화면의 한쪽에서 슬라이드하여 나타나는 특징이 있습니다.

## 기본 사용법

Drawer를 사용하려면 `open`과 `onOpenChange` prop을 통해 상태를 제어해야 합니다.

### 기본 Drawer (인터랙티브)

<DemoDrawerBasicProvider>
  <Playground
    preview={<DemoDrawerBasicWithControls />}
    controls={<DemoDrawerBasicControls />}
  />
</DemoDrawerBasicProvider>

<Playground preview={<DemoDrawerBasic />} />

```tsx
import { useState } from 'react';
import { Drawer } from '@headless/ui';
import { Button } from '@headless/ui';

export function MyComponent() {
  const [open, setOpen] = useState(false);

  return (
    <>
      <Button onClick={() => setOpen(true)}>Open Drawer</Button>
      <Drawer open={open} onOpenChange={setOpen} title="Basic Drawer">
        <div style={{ padding: '1rem' }}>Drawer content</div>
      </Drawer>
    </>
  );
}
```

## Placement

Drawer는 화면의 네 방향(left, right, top, bottom)에서 나타날 수 있습니다.

<Playground preview={<DemoDrawerPlacement />} />

```tsx
<Drawer
  open={open}
  onOpenChange={setOpen}
  placement="left" // 'left' | 'right' | 'top' | 'bottom'
  title="Drawer from left"
>
  <div style={{ padding: '1rem' }}>Content</div>
</Drawer>
```

## Footer

Footer를 추가하여 하단에 액션 버튼을 배치할 수 있습니다.

<Playground preview={<DemoDrawerWithFooter />} />

```tsx
<Drawer
  open={open}
  onOpenChange={setOpen}
  title="Drawer with Footer"
  footer={
    <div style={{ display: 'flex', justifyContent: 'flex-end', gap: '0.5rem' }}>
      <Button onClick={() => setOpen(false)}>Cancel</Button>
      <Button onClick={() => setOpen(false)}>Confirm</Button>
    </div>
  }
>
  <div style={{ padding: '1rem' }}>Content</div>
</Drawer>
```

## Extra Actions

헤더에 추가 액션 버튼을 배치할 수 있습니다.

<Playground preview={<DemoDrawerWithExtra />} />

```tsx
<Drawer
  open={open}
  onOpenChange={setOpen}
  title="Drawer with Extra"
  extra={<Button onClick={handleExtraAction}>Extra Action</Button>}
>
  <div style={{ padding: '1rem' }}>Content</div>
</Drawer>
```

## Custom Size

Drawer의 너비(width) 또는 높이(height)를 커스터마이징할 수 있습니다.

<Playground preview={<DemoDrawerCustomSize />} />

```tsx
<Drawer
  open={open}
  onOpenChange={setOpen}
  title="Custom Size Drawer"
  width={600} // 또는 height={400} (top/bottom placement일 때)
>
  <div style={{ padding: '1rem' }}>Content</div>
</Drawer>
```

## Mask Close

마스크(배경)를 클릭해도 닫히지 않도록 설정할 수 있습니다.

<Playground preview={<DemoDrawerNoMaskClose />} />

```tsx
<Drawer
  open={open}
  onOpenChange={setOpen}
  title="Drawer without Mask Close"
  maskClosable={false}
>
  <div style={{ padding: '1rem' }}>Content</div>
</Drawer>
```

## No Close Button

헤더의 닫기 버튼을 숨길 수 있습니다.

<Playground preview={<DemoDrawerNoClosable />} />

```tsx
<Drawer
  open={open}
  onOpenChange={setOpen}
  title="Drawer without Close Button"
  closable={false}
>
  <div style={{ padding: '1rem' }}>Content</div>
</Drawer>
```

## API

### Drawer Props

| Property       | Description                             | Type                                     | Default   |
| -------------- | --------------------------------------- | ---------------------------------------- | --------- |
| open           | Drawer의 열림/닫힘 상태                 | `boolean`                                | -         |
| onOpenChange   | Drawer 상태 변경 핸들러                 | `(open: boolean) => void`                | -         |
| title          | Drawer 제목                             | `React.ReactNode`                        | -         |
| placement      | Drawer가 나타나는 위치                  | `'left' \| 'right' \| 'top' \| 'bottom'` | `'right'` |
| width          | Drawer 너비 (left/right placement일 때) | `number \| string`                       | `378`     |
| height         | Drawer 높이 (top/bottom placement일 때) | `number \| string`                       | `378`     |
| closable       | 닫기 버튼 표시 여부                     | `boolean`                                | `true`    |
| maskClosable   | 마스크 클릭으로 닫기 여부               | `boolean`                                | `true`    |
| destroyOnClose | 닫을 때 DOM에서 제거할지 여부           | `boolean`                                | `false`   |
| footer         | Footer 내용                             | `React.ReactNode`                        | -         |
| extra          | 헤더에 추가할 액션                      | `React.ReactNode`                        | -         |
| injectStyles   | 기본 스타일 주입 여부                   | `boolean`                                | `true`    |
| className      | 추가 CSS 클래스                         | `string`                                 | -         |

## 특징

- **키보드 지원**: ESC 키로 Drawer를 닫을 수 있습니다.
- **포커스 트랩**: Drawer가 열려있을 때 포커스가 Drawer 내부에 고정됩니다.
- **스크롤 방지**: Drawer가 열려있을 때 배경 스크롤이 차단됩니다.
- **접근성**: ARIA 속성을 지원하여 스크린 리더와 호환됩니다.

## 기본 스타일(CSS) (Inject Styles)

<CssSnippet css={DrawerCss} title="DrawerCss" />
