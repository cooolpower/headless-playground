import { Playground } from '@/components/playground/playground';
import { CssSnippet } from '@/components/playground/css-snippet';
import { MapCss } from '@repo/ui';
import {
  DemoMapBasicProvider,
  DemoMapBasicWithControls,
  DemoMapBasicControls,
  DemoMapBasic,
} from './map.demo';

# Map

Map 컴포넌트는 지도를 표시하는 Headless 컴포넌트입니다. 다양한 지도 라이브러리(예: Google Maps, Naver Maps, Kakao Maps 등)와 통합하여 사용할 수 있습니다.

## 기본 사용법

Map 컴포넌트는 children을 통해 지도 콘텐츠를 받습니다. 실제 지도 렌더링은 외부 지도 라이브러리를 사용합니다.

<DemoMapBasicProvider>
  <Playground
    preview={<DemoMapBasicWithControls />}
    controls={<DemoMapBasicControls />}
  />
</DemoMapBasicProvider>

```tsx
import { Map } from '@repo/ui';

export function MyComponent() {
  return (
    <Map>
      {/* 지도 라이브러리 컴포넌트를 여기에 배치 */}
      <div>Map content</div>
    </Map>
  );
}
```

## Google Maps와 함께 사용

Google Maps API와 함께 사용하는 예제입니다.

```tsx
import { Map } from '@repo/ui';
import { GoogleMap, LoadScript, Marker } from '@react-google-maps/api';

export function MyComponent() {
  const center = {
    lat: 37.5665,
    lng: 126.978,
  };

  return (
    <Map>
      <LoadScript googleMapsApiKey="YOUR_API_KEY">
        <GoogleMap
          mapContainerStyle={{ width: '100%', height: '400px' }}
          center={center}
          zoom={10}
        >
          <Marker position={center} />
        </GoogleMap>
      </LoadScript>
    </Map>
  );
}
```

## Naver Maps와 함께 사용

Naver Maps API와 함께 사용하는 예제입니다.

```tsx
import { Map } from '@repo/ui';
import { useEffect, useRef } from 'react';

export function MyComponent() {
  const mapRef = useRef<HTMLDivElement>(null);

  useEffect(() => {
    if (mapRef.current) {
      const map = new naver.maps.Map(mapRef.current, {
        center: new naver.maps.LatLng(37.5665, 126.978),
        zoom: 10,
      });
    }
  }, []);

  return (
    <Map>
      <div ref={mapRef} style={{ width: '100%', height: '400px' }} />
    </Map>
  );
}
```

## API

### Map Props

| Property     | Description           | Type                   | Default |
| ------------ | --------------------- | ---------------------- | ------- |
| value        | 제어된 값             | `any`                  | -       |
| defaultValue | 기본값                | `any`                  | -       |
| onChange     | 값 변경 핸들러        | `(value: any) => void` | -       |
| disabled     | 비활성화 여부         | `boolean`              | `false` |
| className    | 추가 CSS 클래스       | `string`               | -       |
| injectStyles | 기본 스타일 주입 여부 | `boolean`              | `true`  |
| children     | 지도 콘텐츠           | `React.ReactNode`      | -       |

## 기본 스타일(CSS) (Inject Styles)

<CssSnippet css={MapCss} title="MapCss" />

## 특징

- **유연한 통합**: 다양한 지도 라이브러리와 함께 사용 가능
- **Headless 설계**: 스타일링은 사용자가 제어
- **제어/비제어 모드**: value와 defaultValue를 통한 상태 관리 지원
