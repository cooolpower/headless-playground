import {
  DemoAutocompleteBasic,
  DemoAutocompleteBasicWithControls,
  DemoAutocompleteBasicControls,
  DemoAutocompleteBasicProvider,
  DemoAutocompleteWithOptions,
} from './auto-complete.demo';
import { Playground } from '@/components/playground/playground';
import { CssSnippet } from '@/components/playground/css-snippet';
import { AutocompleteCss } from '@repo/ui';

# Auto Complete

Auto Complete 컴포넌트는 사용자가 입력하는 동안 자동으로 제안 목록을 표시하는 Headless 컴포넌트입니다. 검색 기능이나 입력 자동완성에 사용됩니다.

## 기본 사용법

Auto Complete 컴포넌트를 사용하여 자동완성 기능을 구현할 수 있습니다.

<DemoAutocompleteBasicProvider>
  <Playground
    preview={<DemoAutocompleteBasicWithControls />}
    controls={<DemoAutocompleteBasicControls />}
  />
</DemoAutocompleteBasicProvider>

```tsx
import { Autocomplete } from '@repo/ui';
import { Input } from '@repo/ui';

export function MyComponent() {
  const [value, setValue] = useState('');
  const options = ['Apple', 'Banana', 'Cherry', 'Date', 'Elderberry'];

  const filteredOptions = options.filter((option) =>
    option.toLowerCase().includes(value.toLowerCase()),
  );

  return (
    <Autocomplete>
      <Input
        value={value}
        onChange={(val) => setValue(val)}
        placeholder="Type to search..."
      />
      {/* 옵션 목록 렌더링 */}
    </Autocomplete>
  );
}
```

## With Options

옵션 목록을 표시하는 예제입니다.

<Playground preview={<DemoAutocompleteWithOptions />} />

```tsx
import { useState } from 'react';
import { Autocomplete } from '@repo/ui';
import { Input } from '@repo/ui';

export function MyComponent() {
  const [value, setValue] = useState('');
  const [showOptions, setShowOptions] = useState(false);
  const options = ['Apple', 'Banana', 'Cherry', 'Date', 'Elderberry'];

  const filteredOptions = options.filter((option) =>
    option.toLowerCase().includes(value.toLowerCase()),
  );

  return (
    <Autocomplete>
      <div style={{ position: 'relative' }}>
        <Input
          value={value}
          onChange={(val) => {
            setValue(val);
            setShowOptions(val.length > 0);
          }}
          onFocus={() => setShowOptions(true)}
          placeholder="Type to search..."
        />
        {showOptions && filteredOptions.length > 0 && (
          <div
            style={{
              position: 'absolute',
              top: '100%',
              left: 0,
              right: 0,
              border: '1px solid var(--color-divider)',
              borderRadius: '4px',
              backgroundColor: 'var(--color-surface)',
              zIndex: 1000,
              marginTop: '4px',
              maxHeight: '200px',
              overflowY: 'auto',
            }}
          >
            {filteredOptions.map((opt) => (
              <div
                key={opt}
                onClick={() => {
                  setValue(opt);
                  setShowOptions(false);
                }}
                style={{
                  padding: '8px 12px',
                  cursor: 'pointer',
                  borderBottom: '1px solid var(--color-divider)',
                }}
                onMouseEnter={(e) => {
                  e.currentTarget.style.backgroundColor =
                    'var(--color-surface-hover)';
                }}
                onMouseLeave={(e) => {
                  e.currentTarget.style.backgroundColor =
                    'var(--color-surface)';
                }}
              >
                {opt}
              </div>
            ))}
          </div>
        )}
      </div>
    </Autocomplete>
  );
}
```

## API

### Autocomplete Props

| Property     | Description           | Type                   | Default |
| ------------ | --------------------- | ---------------------- | ------- |
| value        | 제어된 값             | `any`                  | -       |
| defaultValue | 기본값                | `any`                  | -       |
| onChange     | 값 변경 핸들러        | `(value: any) => void` | -       |
| disabled     | 비활성화 여부         | `boolean`              | `false` |
| className    | 추가 CSS 클래스       | `string`               | -       |
| injectStyles | 기본 스타일 주입 여부 | `boolean`              | `true`  |
| children     | Autocomplete 콘텐츠   | `React.ReactNode`      | -       |

## 기본 스타일(CSS) (Inject Styles)

<CssSnippet css={AutocompleteCss} title="AutocompleteCss" />

## 특징

- **자동완성**: 사용자 입력에 따라 옵션 필터링
- **Headless 설계**: 스타일링과 옵션 렌더링은 사용자가 제어
- **제어/비제어 모드**: value와 defaultValue를 통한 상태 관리 지원
- **유연한 통합**: Input 컴포넌트와 함께 사용하여 완전한 자동완성 기능 구현
