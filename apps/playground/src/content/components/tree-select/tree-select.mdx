import {
  DemoTreeSelectBasic,
  DemoTreeSelectBasicWithControls,
  DemoTreeSelectBasicControls,
  DemoTreeSelectBasicProvider,
  DemoTreeSelectMultiple,
} from './tree-select.demo';
import { Playground } from '@/components/playground/playground';
import { CssSnippet } from '@/components/playground/css-snippet';
import { TreeSelectCss } from '@repo/ui';

# Tree Select

Tree Select는 트리 구조의 데이터를 선택할 수 있는 컴포넌트입니다. Select와 Tree의 기능을 결합하여 계층적 데이터를 선택할 수 있습니다.

## 기본 사용법

Tree Select 컴포넌트를 사용하여 트리 구조의 데이터를 선택할 수 있습니다.

### 기본 TreeSelect (인터랙티브)

<DemoTreeSelectBasicProvider>
  <Playground
    preview={<DemoTreeSelectBasicWithControls />}
    controls={<DemoTreeSelectBasicControls />}
  />
</DemoTreeSelectBasicProvider>

<Playground preview={<DemoTreeSelectBasic />} />

```tsx
import { useState } from 'react';
import { Tree } from '@repo/ui';
import type { TreeNodeData } from '@repo/ui';

const treeData: TreeNodeData[] = [
  {
    key: '1',
    title: '개발팀',
    children: [
      { key: '1-1', title: '프론트엔드' },
      { key: '1-2', title: '백엔드' },
    ],
  },
];

export function MyComponent() {
  const [selectedKeys, setSelectedKeys] = useState<string[]>([]);
  const [isOpen, setIsOpen] = useState(false);

  return (
    <div>
      <button onClick={() => setIsOpen(!isOpen)}>
        {selectedKeys.length > 0 ? '선택됨' : '선택해주세요'}
      </button>
      {isOpen && (
        <Tree
          treeData={treeData}
          selectable
          selectedKeys={selectedKeys}
          onSelect={setSelectedKeys}
        />
      )}
    </div>
  );
}
```

## 다중 선택

여러 항목을 선택할 수 있습니다.

<Playground preview={<DemoTreeSelectMultiple />} />

```tsx
import { useState } from 'react';
import { Tree } from '@repo/ui';
import type { TreeNodeData } from '@repo/ui';

export function MyComponent() {
  const [selectedKeys, setSelectedKeys] = useState<string[]>([]);
  const [isOpen, setIsOpen] = useState(false);

  return (
    <div>
      <button onClick={() => setIsOpen(!isOpen)}>
        {selectedKeys.length > 0
          ? `${selectedKeys.length}개 선택됨`
          : '선택해주세요'}
      </button>
      {isOpen && (
        <Tree
          treeData={treeData}
          selectable
          multiple
          selectedKeys={selectedKeys}
          onSelect={setSelectedKeys}
        />
      )}
    </div>
  );
}
```

## API Reference

### TreeSelect Props

| Property            | Description                 | Type                        | Default          |
| ------------------- | --------------------------- | --------------------------- | ---------------- |
| treeData            | 트리 데이터                 | `TreeNodeData[]`            | -                |
| value               | 제어된 값                   | `string[]`                  | -                |
| defaultValue        | 기본값                      | `string[]`                  | -                |
| onChange            | 값 변경 핸들러              | `(value: string[]) => void` | -                |
| open                | 드롭다운 열림(제어)         | `boolean`                   | -                |
| defaultOpen         | 기본 열림                   | `boolean`                   | `false`          |
| onOpenChange        | 열림 변경 핸들러            | `(open: boolean) => void`   | -                |
| multiple            | 다중 선택                   | `boolean`                   | `false`          |
| disabled            | 비활성화 여부               | `boolean`                   | `false`          |
| placeholder         | 플레이스홀더                | `string`                    | `'선택해주세요'` |
| defaultExpandedKeys | 기본 확장 키                | `string[]`                  | `[]`             |
| injectStyles        | 기본 스타일 주입 여부       | `boolean`                   | `true`           |
| className           | 추가 CSS 클래스             | `string`                    | -                |
| classNames          | 내부 요소별 CSS 클래스 객체 | `TreeSelectClassNames`      | -                |
| children            | Tree Select 콘텐츠          | `React.ReactNode`           | -                |

### TreeSelectClassNames

내부 요소별 CSS 클래스를 지정할 수 있습니다.

| Property   | Type     | Description                     |
| ---------- | -------- | ------------------------------- |
| treeselect | `string` | TreeSelect 루트 요소 CSS 클래스 |
| trigger    | `string` | 트리거 버튼 CSS 클래스          |
| content    | `string` | 콘텐츠 영역 CSS 클래스          |

## 특징

- **트리 구조 선택**: 계층적 데이터를 트리 형태로 선택
- **Headless 설계**: 스타일링은 사용자가 제어
- **제어/비제어 모드**: value와 defaultValue를 통한 상태 관리 지원

## 기본 스타일(CSS) (Inject Styles)

<CssSnippet css={TreeSelectCss} title="TreeSelectCss" />
