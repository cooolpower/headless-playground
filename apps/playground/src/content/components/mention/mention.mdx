import { CssSnippet } from '@/components/playground/css-snippet';
import { MentionCss } from '@headless/ui';

# Mention

ì‚¬ìš©ì ë©˜ì…˜ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤. í…ìŠ¤íŠ¸ ì…ë ¥ ì‹œ íŠ¹ì • ì‚¬ìš©ìë‚˜ í•­ëª©ì„ ì–¸ê¸‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì‚¬ìš©ë²•

```tsx
import { Mention } from '@headless/ui';

export function MyComponent() {
  const [value, setValue] = useState('');

  return (
    <Mention
      value={value}
      onChange={setValue}
      options={[
        { label: 'User 1', value: 'user1' },
        { label: 'User 2', value: 'user2' },
      ]}
    />
  );
}
```

### ì˜ˆì œ

#### ê¸°ë³¸ Mention

<Playground preview={<DemoMentionBasic />} />

```tsx
const users = [
  { label: '07akioni', value: '07akioni' },
  { label: 'star-kirby', value: 'star-kirby' },
  // ...
];

<Mention
  value={value}
  onChange={setValue}
  options={users}
  placeholder="Type @ to mention someone"
/>;
```

#### With Default Value

<Playground preview={<DemoMentionDefaultValue />} />

```tsx
<Mention
  value={value}
  onChange={setValue}
  options={users}
  defaultValue="Hello @07akioni, how are you?"
/>
```

#### Custom Prefix

<Playground preview={<DemoMentionCustomPrefix />} />

```tsx
<Mention
  value={value}
  onChange={setValue}
  options={users}
  prefix="#"
  placeholder="Type # to mention someone"
/>
```

#### Custom Separator

<Playground preview={<DemoMentionCustomSeparator />} />

```tsx
<Mention
  value={value}
  onChange={setValue}
  options={users}
  separator="\n"
  placeholder="Type @ to mention (Enter to new line)"
/>
```

#### Disabled

<Playground preview={<DemoMentionDisabled />} />

```tsx
<Mention value={value} onChange={setValue} options={users} disabled />
```

#### Custom Get Mention

<Playground preview={<DemoMentionCustomGetMention />} />

```tsx
<Mention
  value={value}
  onChange={setValue}
  options={users}
  getMention={(option) => `@${option.label}`}
/>
```

#### Load Remote Options

<Playground preview={<DemoMentionLoadRemoteOptions />} />

```tsx
const handleSearch = async (query: string): Promise<MentionOption[]> => {
  // API í˜¸ì¶œ ì‹œë®¬ë ˆì´ì…˜
  return new Promise((resolve) => {
    setTimeout(() => {
      const filtered = users.filter(
        (user) =>
          user.label.toLowerCase().includes(query.toLowerCase()) ||
          user.value.toLowerCase().includes(query.toLowerCase()),
      );
      resolve(filtered);
    }, 500);
  });
};

<Mention
  value={value}
  onChange={setValue}
  onSearch={handleSearch}
  placeholder="Type @ to search users (remote)"
/>;
```

#### Empty Slot

<Playground preview={<DemoMentionEmptySlot />} />

```tsx
<Mention
  value={value}
  onChange={setValue}
  onSearch={handleSearch}
  empty={
    <div>
      <div>ğŸ”</div>
      <div>ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤</div>
      <div>ë‹¤ë¥¸ í‚¤ì›Œë“œë¡œ ê²€ìƒ‰í•´ë³´ì„¸ìš”</div>
    </div>
  }
/>
```

### API Reference

#### Mention Props

| Property              | Type                                                             | Default | Description                                            |
| --------------------- | ---------------------------------------------------------------- | ------- | ------------------------------------------------------ |
| value                 | `string`                                                         | -       | ì œì–´ëœ ê°’                                              |
| defaultValue          | `string`                                                         | -       | ê¸°ë³¸ê°’                                                 |
| onChange              | `(value: string) => void`                                        | -       | ê°’ ë³€ê²½ í•¸ë“¤ëŸ¬                                         |
| options               | `MentionOption[]`                                                | `[]`    | ë©˜ì…˜ ì˜µì…˜ ëª©ë¡                                         |
| onSearch              | `(query: string) => Promise<MentionOption[]> \| MentionOption[]` | -       | ì›ê²© ê²€ìƒ‰ í•¨ìˆ˜ (onSearchê°€ ì œê³µë˜ë©´ options ëŒ€ì‹  ì‚¬ìš©) |
| disabled              | `boolean`                                                        | `false` | ë¹„í™œì„±í™” ì—¬ë¶€                                          |
| placeholder           | `string`                                                         | -       | ì…ë ¥ í”Œë ˆì´ìŠ¤í™€ë”                                      |
| prefix                | `string`                                                         | `'@'`   | ë©˜ì…˜ ì ‘ë‘ì‚¬                                            |
| separator             | `string`                                                         | `' '`   | ë©˜ì…˜ êµ¬ë¶„ì                                            |
| getMention            | `(option: MentionOption) => string`                              | -       | ë©˜ì…˜ í…ìŠ¤íŠ¸ ìƒì„± í•¨ìˆ˜                                  |
| empty                 | `ReactNode`                                                      | -       | ì˜µì…˜ì´ ì—†ì„ ë•Œ í‘œì‹œí•  ë‚´ìš© (empty slot)                |
| injectStyles          | `boolean`                                                        | `true`  | ê¸°ë³¸ ìŠ¤íƒ€ì¼(CSS) ì£¼ì… ì—¬ë¶€                             |
| className             | `string`                                                         | -       | ì¶”ê°€ CSS í´ë˜ìŠ¤                                        |
| inputWrapperClassName | `string`                                                         | -       | Input wrapper CSS í´ë˜ìŠ¤                               |
| inputClassName        | `string`                                                         | -       | Input CSS í´ë˜ìŠ¤                                       |
| dropdownClassName     | `string`                                                         | -       | Dropdown CSS í´ë˜ìŠ¤                                    |
| optionClassName       | `string`                                                         | -       | Option CSS í´ë˜ìŠ¤                                      |

#### MentionOption

| Property | Type     | Description   |
| -------- | -------- | ------------- |
| label    | `string` | í‘œì‹œí•  ë ˆì´ë¸” |
| value    | `string` | ì˜µì…˜ ê°’       |

### íŠ¹ì§•

- **ìë™ì™„ì„±**: `@` ê¸°í˜¸ ì…ë ¥ ì‹œ ìë™ì™„ì„± ëª©ë¡ í‘œì‹œ
- **í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜**: í™”ì‚´í‘œ í‚¤ë¡œ ì˜µì…˜ ì„ íƒ, Enter/Tabìœ¼ë¡œ í™•ì¸
- **ì›ê²© ì˜µì…˜ ë¡œë”©**: `onSearch` propì„ í†µí•´ ë¹„ë™ê¸°ë¡œ ì˜µì…˜ì„ ë¡œë“œí•  ìˆ˜ ìˆìŒ
- **ë¡œë”© ìƒíƒœ**: ì›ê²© ê²€ìƒ‰ ì¤‘ ë¡œë”© í‘œì‹œ
- **ì»¤ìŠ¤í„°ë§ˆì´ì§•**: prefix, separator, getMention í•¨ìˆ˜ë¡œ ë™ì‘ ì»¤ìŠ¤í„°ë§ˆì´ì§• ê°€ëŠ¥
- **Headless ì„¤ê³„**: ìŠ¤íƒ€ì¼ë§ì€ ì‚¬ìš©ìê°€ ì œì–´
- **ì œì–´/ë¹„ì œì–´ ëª¨ë“œ**: valueì™€ defaultValueë¥¼ í†µí•œ ìƒíƒœ ê´€ë¦¬ ì§€ì›

### ê¸°ë³¸ ìŠ¤íƒ€ì¼(CSS) (Inject Styles)

<CssSnippet css={MentionCss} title="MentionCss" />
