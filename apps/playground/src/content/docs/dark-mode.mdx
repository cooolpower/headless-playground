# Dark Mode

다크 모드는 현대 웹 애플리케이션의 필수적인 디자인 요구사항입니다. `@repo/ui` 라이브러리는 Vanilla Extract 기반의 글로벌 테마 토큰을 통해 다크 모드를 네이티브하게 지원합니다.

## 시스템 기본 동작

라이브러리는 기본적으로 `data-theme` 어트리뷰트를 감지하여 색상 팔레트를 반전시킵니다. HTML 문서의 최상단이나 특정 컨테이너에 `data-theme="dark"` 속성을 부여하기만 하면, 해당 영역 내부의 모든 `@repo/ui` 컴포넌트들이 즉시 다크 모드 스펙으로 전환됩니다.

```html
<!-- 이 페이지의 컴포넌트들은 다크 모드로 렌더링됩니다 -->
<html lang="ko" data-theme="dark">
  <body>
    ...
  </body>
</html>
```

## Next.js (App Router) 통합하기

가장 인기 있는 프레임워크인 Next.js에서는 `next-themes` 패키지를 활용하면 사용자의 시스템 설정(OS) 감지와 수동 테마 토글(Toggle)을 아주 쉽게 구현할 수 있습니다.

**1. 패키지 설치**

먼저 `next-themes`를 설치합니다.

```bash
npm install next-themes
```

**2. ThemeProvider 구현**

모든 서버/클라이언트 컴포넌트를 감싸줄 공급자(Provider)를 만듭니다. `attribute="data-theme"` 속성을 줌으로써 `next-themes`가 주입하는 속성명을 `@repo/ui`의 스펙과 일치시킵니다.

```tsx
// app/providers.tsx
'use client';

import { ThemeProvider } from 'next-themes';

export function Providers({ children }: { children: React.ReactNode }) {
  return (
    <ThemeProvider attribute="data-theme" defaultTheme="system" enableSystem>
      {children}
    </ThemeProvider>
  );
}
```

이제 Next.js 앱에서 다크 모드 토글 스위치를 만들면, 라이브러리에 포함된 모든 버튼, 인풋, 카드, 모달 등이 부드럽게 전환됩니다!
